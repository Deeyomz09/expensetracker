<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Expense Form</title>
    <meta charset="UTF-8" />
</head>
<body>

<h1 th:text="${expense.id == null ? 'Add Expense' : 'Edit Expense'}"></h1>

<form th:action="${expense.id == null} ? @{/expenses} : @{/expenses/{id}(id=${expense.id})}"
      th:object="${expense}" method="post">

    <div>
        <label>Description:</label>
        <input type="text" th:field="*{description}" />
        <small style="color:red" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></small>
    </div>

    <div>
        <label>Amount:</label>
        <input type="number" step="0.01" th:field="*{amount}" />
        <small style="color:red" th:if="${#fields.hasErrors('amount')}" th:errors="*{amount}"></small>
    </div>

    <div>
        <label>Category:</label>
        <input type="text" th:field="*{category}" />
        <small style="color:red" th:if="${#fields.hasErrors('category')}" th:errors="*{category}"></small>
    </div>

    <div>
        <label>Date:</label>
        <input type="date" th:field="*{expenseDate}" />
        <small style="color:red" th:if="${#fields.hasErrors('expenseDate')}" th:errors="*{expenseDate}"></small>
    </div>

    <div style="margin-top:10px;">
        <button type="submit">Save</button>
        <a th:href="@{/expenses}">Cancel</a>
    </div>
</form>

</body>
</html>
